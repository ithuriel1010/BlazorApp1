@page "/Ankieta - Monitoring 24h"
@using System.ComponentModel.DataAnnotations
@using BazaDanych
@using BlazorApp1.Data
@using EFGetStarted


<h1>@title</h1>

@*Tworzenie ankiety - wszystkich radiobuttonów/checkboxów oraz pytania o wiek
    Każde pytanie byłoby możliwe do stworzenia za pomocą tylko jednej lini - tworzyło to jednak szare i nudne radiobuttony/checkboxy, 
    dlatego zostały dodane dodatkowe znaczniki, wydłużają one kod ale sprawiają że ankieta ma bardziej estetyczny wygląd*@

@if (page == 1)
{
    <EditForm Model="_model" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <link rel="stylesheet" href="beautiful-checkbox.css">
       
        @*Pytanie o płeć jest stworzone inaczej niż wszystkie inne - zamiast wyświetlania wszystkich elementów tablicy, tutaj płcie wpisane są ręcznie. Powodem dlaczego zostało to tak zrobone
            jest aby pokazać walidacje radiobuttonów - jeśli są one stworzone w pętli, pierwszy wybór jest zawsze automatycznie zaznaczany, nie ma więć możliwości niezaznaczenia odpowiedzi 
            na któreś pytanie. W przypadku tego pytania nie jest zaznaczona żadna odpowiedź i respondent nie przejdzie dalej bez zaznaczenia odpowiedzi na to pytanie*@

        <label>
            1. Płeć:
            <div class="pretty p-icon p-round">
                <InputRadio SelectedValue="1" @bind-Value="_model.Sex" />
                <div class="state p-primary">
                    <i class="icon mdi mdi-check"></i>
                    <label>@k</label>
                </div>
            </div>
        </label>
        <label>
            <div class="pretty p-icon p-round">
                <InputRadio SelectedValue="2" @bind-Value="_model.Sex" />
                <div class="state p-primary">
                    <i class="icon mdi mdi-check"></i>
                    <label>@m</label>
                </div>
            </div>
        </label>

        <h2></h2>
        <label>
            2. Wiek:
            @*Wsztystkie atrybuty onchange, on blur itp. służą do walidacji - kiedy "wyjdzie się" z pola wpisywania wieku i wiek jest poprawny przycisk "Następna strona" staje się aktywny*@
            <InputNumber Class="form-control" @onchange="@SetOkDisabledStatus" @ondeactivate="@SetOkDisabledStatus" @onblur="@SetOkDisabledStatus" @bind-Value="_wiek.lata" />
        </label>

        <h2></h2>

        <label>
            3. Wykształcenie:<h2></h2>
            @for (int i = 0; i < wyksztalcenie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.wyksztalcenie" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@wyksztalcenie[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>

        <label>
            4. Jak ocenia Pani/Pan swój stan zdrowia?<h2></h2>
            @for (int i = 0; i < zdrowie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.zdrowie" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zdrowie[i]</label>
                    </div>
                </div>

            }
        </label>

        <h2></h2>

        <label>
            5. Z jakimi chorobami się Pani/Pan zmaga?:<h2></h2>
            @for (int i = 0; i < choroby.Length; i++)
            {
                var m = choroby[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, chorobyList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>

        @*Przycisk jest zablokowany dopóki funkcja OkayDisabled nie jest wywołana z prawidłowymi argumentami - funkcja jest wywoływana po wpisaniu wieku*@
        <button type="submit" disabled="@OkayDisabled" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 2)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            6. Jakie dolegliwości pojawiły się u Pani/Pana wraz z wiekiem?<h2></h2>
            @for (int i = 0; i < dolegliwosci.Length; i++)
            {
                var m = dolegliwosci[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, dolegliwosciZWiekiemList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>

        <label>
            7. Czy odczuwa Pani/Pan problemy w samodzielnym wykonywaniu następujących czynności?<h2></h2>
            @for (int i = 0; i < czynnosci.Length; i++)
            {
                var m = czynnosci[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, trudneCzynnosciList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>

        <label>
            8. Czy potrzebuje Pani/Pan pomocy w wykonywaniu wcześniej zaznaczonych czynności?<h2></h2>
            @for (int i = 0; i < pytanie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.pomoc" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytanie[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 3)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            9. Z kim Pani/Pan mieszka?:<h2></h2>
            @for (int i = 0; i < mieszkanie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.mieszkanieZaznacz" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@mieszkanie[i]</label>
                    </div>
                </div>

            }
        </label>

        <label>
            10. Czy ma Pani/Pan w swoim otoczeniu osobę, która może pomóc w codziennych obowiązkach? Jeśli tak, to kto to jest?<h2></h2>
            @for (int i = 0; i < osobyBliskie.Length; i++)
            {
                var m = osobyBliskie[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, osobyBliskieList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>

        <label>
            11. Czy czuje się Pani/Pan samotna/y?<h2></h2>
            @for (int i = 0; i < pytanie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.samotnosc" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytanie[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>

        <label>
            12. Czy czuje się Pani/Pan w swoim domu bezpiecznie?<h2></h2>
            @for (int i = 0; i < pytanie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.bezpieczenstwo" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytanie[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 4)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            13. Co mogłoby zwiększyć u Pani/Pana poczucie bezpieczeństwa?<h2></h2>
            @for (int i = 0; i < poprawabezp.Length; i++)
            {
                var m = poprawabezp[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, poprawabezpList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            14. Jak ocenia Pani/Pan swoje oswojenie z nowoczesną technologią? (obsługa smartfona, komputera, telewizora itp.)<h2></h2>
            @for (int i = 0; i < pytaniedobrze.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.technologia" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytaniedobrze[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            15. Które z poniższych urządzeń wykorzystuje Pani/Pan co najmniej kilka razy w tygodniu?<h2></h2>
            @for (int i = 0; i < urzadzenia.Length; i++)
            {
                var m = urzadzenia[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, urzadzeniaList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            16. Czy korzysta Pani/Pan z internetu?<h2></h2>
            @for (int i = 0; i < czestosc.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.internet" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@czestosc[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>

        <label>
            17. Ile czasu dziennie spędza Pani/Pan przed komputerem/smartfonem?<h2></h2>
            @for (int i = 0; i < czestoscGodziny.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.internet2" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@czestoscGodziny[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 5)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            18. Jak zabezpiecza się Pani/Pan w przypadku sytuacji, w której będzie potrzebna nagła pomoc?<h2></h2>
            @for (int i = 0; i < zabezpieczenia.Length; i++)
            {
                var m = zabezpieczenia[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, zabezpieczeniaList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            19. Czym jest dla Pani/Pana monitoring?<h2></h2>
            @for (int i = 0; i < monitoring.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.monitoring" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@monitoring[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            20. Czy ma Pani/Pan monitoring zainstalowany w miejscu zamieszkania?<h2></h2>
            @for (int i = 0; i < monitoringObecnosc.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.monitoring1" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@monitoringObecnosc[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 6)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <label>
            Domowy monitoring wizyjny to system kamer pozwalający na śledzenie z odległości zdarzeń rejestrowanych.
            Taki monitoring ma zarówno wielu zwolenników, jak i przeciwników - głównie ze względu na prywatność domowników.
            Jednak kamery wizyjne nie oznaczają koniecznie zwykłych kamer nagrywających obraz - mogą to być inteligentne kamery termowizyjne,
            które same potrafią zlokalizować osobę i wykryć jej ruch, np. upadek.<h2></h2>
            <img src="/Images/kamera.png" asp-append-version="true" width="300px" /><h2></h2>

            21. Czy zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.wizyjny" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            Domowy system czujników to układ specjalnych przetworników umiejscowionych w różnych częściach domu w celu zapewnienia domownikom bezpieczeństwa.
            Przykładowymi czujnikami są: czujniki wykrywające położenie, czujnik przepływu gazu/dymu (w kuchni), czujnik zużytej ilości wody (w kuchni, łazience).
            Czujniki te w żaden sposób nie przeszkadzają w codziennym życiu, są niewielkie i zwykle zamontowane w niewidocznych miejscach.<h2></h2>
            <img src="/Images/czujnik.png" asp-append-version="true" width="300px" /><h2></h2>

            22. Czy zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.czujnik" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            Roboty interaktywne to urządzenia wspomagające i kontrolujące domowników. Są przeznaczone głównie dla samotnie mieszkających osób.
            Zadaniem robotów jest rozmowa, podtrzymywanie kontaktu, monitorowanie nietypowego zachowania (wskazującego np. na stan przedzawałowy),
            wysyłanie alertów do personelu opieki w przypadku sytuacji awaryjnej i wykonywanie połączeń alarmowych. <h2></h2>
            <img src="/Images/robot.png" asp-append-version="true" width="300px" /><h2></h2>
            23. Czy zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.robot" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 12)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            6. Czy w Pani/Pana otoczeniu jest/była osoba z zaawansowaną chorobą (osoba wymagająca ciągłej opieki)?<h2></h2>
            @for (int i = 0; i < taknie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.choraosoba" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@taknie[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            7. Czy mieszka Pani/Pan razem z osobą w podeszłym wieku?<h2></h2>
            @for (int i = 0; i < taknie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.mieszkaniezseniorem" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@taknie[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>

        <h2></h2>
        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 13)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            8. Czy opiekowała/opiekował się Pani/Pan tą osobą? Jeśli tak, to jak często? <h2></h2>
            @for (int i = 0; i < opieka.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.opieka" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@opieka[i]</label>
                    </div>
                </div>
            }
        </label>


        <h2></h2>
        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 14)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <label>
            9. Czy czuje się Pani/Pan w swoim domu bezpiecznie?<h2></h2>
            @for (int i = 0; i < pytanie.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.bezpieczenstwo" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytanie[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>

        <label>
            10. Co mogłoby zwiększyć u Pani/Pana poczucie bezpieczeństwa?<h2></h2>
            @for (int i = 0; i < poprawabezp.Length; i++)
            {
                var m = poprawabezp[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, poprawabezpList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            11. Jak ocenia Pani/Pan swoje oswojenie z nowoczesną technologią? (obsługa smartfona, komputera, telewizora itp.)<h2></h2>
            @for (int i = 0; i < pytaniedobrze.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.technologia" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@pytaniedobrze[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            12. Które z poniższych urządzeń wykorzystuje Pani/Pan co najmniej kilka razy w tygodniu?<h2></h2>
            @for (int i = 0; i < urzadzenia.Length; i++)
            {
                var m = urzadzenia[i];
                <div class="pretty p-default p-curve">
                    <input type="checkbox" @onchange="eventArgs => { CheckboxClicked(m, eventArgs.Value, urzadzeniaList); }" />
                    <div class="state p-primary-o">
                        <label>@m</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            13. Czy korzysta Pani/Pan z internetu?<h2></h2>
            @for (int i = 0; i < czestosc.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.internet" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@czestosc[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>

        <label>
            14. Ile czasu dziennie spędza Pani/Pan przed komputerem/smartfonem?<h2></h2>
            @for (int i = 0; i < czestoscGodziny.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.internet2" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@czestoscGodziny[i]</label>
                    </div>
                </div>
            }
        </label>

        <h2></h2>
        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>

}
else if (page == 15)
{
    <EditForm Model="_model" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <label>
            Domowy monitoring wizyjny to system kamer pozwalający na śledzenie z odległości zdarzeń rejestrowanych.
            Taki monitoring ma zarówno wielu zwolenników, jak i przeciwników - głównie ze względu na prywatność domowników.
            Jednak kamery wizyjne nie oznaczają koniecznie zwykłych kamer nagrywających obraz - mogą to być inteligentne kamery termowizyjne,
            które same potrafią zlokalizować osobę i wykryć jej ruch, np. upadek.<h2></h2>
            <img src="/Images/kamera.png" asp-append-version="true" width="300px" /><h2></h2>

            15. Czy gdyby była/był Pani/Pan w podeszłym wieku, zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.wizyjny" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            Domowy system czujników to układ specjalnych przetworników umiejscowionych w różnych częściach domu w celu zapewnienia domownikom bezpieczeństwa.
            Przykładowymi czujnikami są: czujniki wykrywające położenie, czujnik przepływu gazu/dymu (w kuchni), czujnik zużytej ilości wody (w kuchni, łazience).
            Czujniki te w żaden sposób nie przeszkadzają w codziennym życiu, są niewielkie i zwykle zamontowane w niewidocznych miejscach.<h2></h2>
            <img src="/Images/czujnik.png" asp-append-version="true" width="300px" /><h2></h2>

            16. Czy gdyby była/był Pani/Pan w podeszłym wieku, zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.czujnik" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>
        <label>
            Roboty interaktywne to urządzenia wspomagające i kontrolujące domowników. Są przeznaczone głównie dla samotnie mieszkających osób.
            Zadaniem robotów jest rozmowa, podtrzymywanie kontaktu, monitorowanie nietypowego zachowania (wskazującego np. na stan przedzawałowy),
            wysyłanie alertów do personelu opieki w przypadku sytuacji awaryjnej i wykonywanie połączeń alarmowych. <h2></h2>
            <img src="/Images/robot.png" asp-append-version="true" width="300px" /><h2></h2>
            17. Czy gdyby była/był Pani/Pan w podeszłym wieku, zgodziłaby/zgodziłby się Pani/Pan na zainstalowanie takiej formy monitoringu we własnym domu?<h2></h2>
            @for (int i = 0; i < zgoda.Length; i++)
            {
                <div class="pretty p-icon p-round">
                    <InputRadio SelectedValue=i @bind-Value="_jeden.robot" />
                    <div class="state p-primary">
                        <i class="icon mdi mdi-check"></i>
                        <label>@zgoda[i]</label>
                    </div>
                </div>
            }
        </label>
        <h2></h2>


        <button type="submit" class="btn btn-outline-primary">@button</button>

    </EditForm>
}
else if (page == 20)
{
    @*Za każdym razem kiedy respondent zakończy ankietę wyśwetlą mu się jego średnie wyniki poziomów (np. stanu fizycznego) oraz jak porównuje się to ze średnimi wynikami wszystkich respondentów*@
    <p>Twój wiek to @respondent.Wiek, a wiek średni respondentów to @avgAge</p>
    <p>Twój poziom stanu fizycznego to @resFiz, a średni stan fizyczny respondentów jest na poziomie @avgFiz</p>
    <p>Twój poziom wiedzy o technologii to @resWiedzaTech, a średnia wiedza na ten temat respondentów jest na poziomie @avgWiedzaTech</p>
    <p>Twój poziom wiedzy o monitoringu to @resWiedzaMon, a średnia wiedza na ten temat respondentów jest na poziomie @avgWiedzaMon</p>
    <p>Twój poziom odczucia na temat monitoringu to @resOdczuciaMon, a średnie odczucia respondentów są na poziomie @avgOdczuciaMon</p>
         
}

@code {

    String k = "Kobieta";
    String m = "Mężczyzna";
    Boolean grupa;
    Boolean sex;
    String title = "Ocena gotowości społecznej na instalację 24h systemów monitoringu osób starszych w ich miejscach zamieszkania";
    String button = "Przejdź dalej";
    String x = null;
    int page = 1;
    String ErrorMessage = "";
    String StatusClass = "";

    private Model _model = new Model();
    private Wiek _wiek = new Wiek();
    private Data.Walidacje _jeden = new Data.Walidacje();
    Respondent respondent = new Respondent();

    // Wszystkie możliwe odpowiedzi na pytania zostały zapisane do tabel, następnie zawartości odpowiednich tabel są wyśietlane przy odpowiednich pytaniach

    String[] wyksztalcenie = new String[] { "Podstawowe", "Gimnazjalne", "Zasadnicze zawodowe", "Średnie", "Wyższe" };

    String[] zdrowie = new String[] { "Bardzo źle", "Źle", "Umiarkowanie", "Dobrze", "Bardzo dobrze" };

    String[] choroby = new String[] { "zaburzenia widzenia", "zaburzenia słuchu", "choroby nadciśnieniowe", "choroby niedokrwienne serca", "zaburzenia rytmu serca",
        "choroby nowotworowe", "padaczka", "cukrzyca", "choroby kręgosłupa", "niedowład kończyn", "choroby miażdżycowe", "choroby układu moczowego"};

    String[] dolegliwosci = new String[] { "Pogorszenie wzroku", "pogorszenie słuchu", "problemy z pamięcią", "problemy z poruszaniem się", "problemy neurologiczne" };

    String[] czynnosci = new String[] { "Zakupy codzienne", "Kąpiel", "Poruszanie się po pokoju", "Pochylanie się", "Kucanie",
        "Podnoszenie i dźwiganie niewielkiego ciężaru", "Korzystanie z toalety", "Przygotowywanie posiłków", "Wstawanie z łóżka", "Pokonywanie schodów"};

    String[] pytanie = new String[] { "Zdecydowanie tak", "Raczej tak", "Trudno powiedzieć", "Raczej nie", "Zdecydowanie nie" };

    String[] pytaniedobrze = new String[] { "Dobrze", "raczej dobrze", "trudno powiedzieć", "raczej słabo", "słabo" };

    String[] mieszkanie = new String[] { "Z nikim", "Partner", "Rodzina", "Współlokator", "Opiekun" };

    String[] osobyBliskie = new String[] { "mąż/żona", "partner/partnerka", "dzieci", "wnuki", "zięć", "synowa", "rodzeństwo", "członkowie dalszej rodziny", "sąsiedzi",
        "przyjaciele", "osoby wynajęte do pomocy"};

    String[] poprawabezp = new String[] {"Zainstalowanie monitoringu wizyjnego", "zainstalowanie czujników (np. dymu)",
        "zakupienie urządzeń elektronicznych z funkcją wysyłania powiadomień SOS", "zakupienie robota interaktywnego wspomagającego bezpieczeństwo",
        "zdalny system kontrolujący urządzenia domowe"};

    String[] urzadzenia = new String[] { "smartfon/tablet", "telewizor", "komputer/laptop", "czytnik ebook", "zegarek elektroniczny" };

    String[] czestosc = new String[] { "Tak, codziennie", "tak, kilka razy w tygodniu", "tak, kilka razy na miesiąc", "Bardzo rzadko", "Nie, nie korzystam" };

    String[] czestoscGodziny = new String[] { "Więcej niż 5 godzin", "3-5 godziny", "1-3 godziny", "mniej niż godzinę", "nie korzystam" };

    String[] zabezpieczenia = new String[] { "telefon z klawiszem SOS", "opaska SOS", "monitoring domowy", "czujniki dymu", "opiekun/opiekunka" };

    String[] monitoring = new String[] {"Urządzenie zwiększające poziom bezpieczeństwa", "Fajna nowinka techniczna", "Rzecz czasem przydatna", "Sprzęt do kontrolowania aktywności ludzi",
        "Niepotrzebne kamery służące wyłącznie do szpiegowania"};

    String[] monitoringObecnosc = new String[] { "Tak", "Miałem/Miałam", "Nie, ale się zastanawiam", "Nie", "Nigdy nawet o tym nie pomyślałam/em" };

    String[] zgoda = new String[] { "Tak", "Mogłabym/Mógłbym to rozważyć", "Jest to dla mnie za drogie", "Nie, obsługa jest za trudna", "Nie, nie czułabym/czułbym się komfortowo" };

    String[] taknie = new String[] { "Tak", "Nie" };

    String[] opieka = new String[] { "Codziennie", "kilka razy w tygodniu", "kilka razy w miesiącu", "rzadziej", "nie opiekowałam/opiekowałem się wcale" };

    //Listy do których zapisywane są zaznaczane checkboxy w ospowiednich pytaniach

    public List<string> chorobyList { get; set; } = new List<string>();
    public List<string> dolegliwosciList { get; set; } = new List<string>();
    public List<string> dolegliwosciZWiekiemList { get; set; } = new List<string>();
    public List<string> trudneCzynnosciList { get; set; } = new List<string>();
    public List<string> osobyBliskieList { get; set; } = new List<string>();
    public List<string> poprawabezpList { get; set; } = new List<string>();
    public List<string> urzadzeniaList { get; set; } = new List<string>();
    public List<string> zabezpieczeniaList { get; set; } = new List<string>();
    protected string OkayDisabled { get; set; } = "disabled";

    //Wartości potrzebne do wyświetlenia statystyk na końcu ankiety

    public double avgAge;
    public double avgFiz;
    public double avgWiedzaMon;
    public double avgWiedzaTech;
    public double avgOdczuciaMon;
    public double resFiz;
    public double resWiedzaMon;
    public double resWiedzaTech;
    public double resOdczuciaMon;


    //Funkcja ta jest potrzebna ponieważ Blazor wyświetla błąd o błednie wypełnione pola, jednak jeśli jest to pole tekstowe/numeryczne, ponowne wciśnięcie przycisku przejścia dalej pozwala na taką niezgodność
    private void SetOkDisabledStatus()  //Funkcja wywołowana po wpisaniu wieku - jeśli wiek jest prawidłowy aktywuje się przycisk przejścia dalej, jeśli nie, przycisk zostaje zdezaktywowany
    {
        if (@_wiek.lata <= 120 && _wiek.lata >= 1)
        {
            OkayDisabled = null;
        }
        else
        {
            OkayDisabled = "disabled";
        }
    }

    void CheckboxClicked(string zaznaczonycheck, object checkedValue, List<string> lista) //Funkcja wywoływana przy naciśnięciu jakiegokolwiek checkboxa - sprawdza czy kliknięta wartość jest w podanej liście jeśli nie to ją zapisuje, a jeśli tak to ją usuwa 
    {
        if ((bool)checkedValue)
        {
            if (!lista.Contains(zaznaczonycheck))
            {
                lista.Add(zaznaczonycheck);
            }
        }
        else
        {
            if (lista.Contains(zaznaczonycheck))
            {
                lista.Remove(zaznaczonycheck);
            }
        }
    }

    protected void HandleInvalidSubmit(EditContext editContext)
    {
        StatusClass = "alert-danger";

        ErrorMessage = "Błąd!";
    }

    private void HandleValidSubmit(EditContext editContext)
    {
        EFGetStarted.Program program = new EFGetStarted.Program();
        BlazorApp1.Data.GetAllData getData = new BlazorApp1.Data.GetAllData(respondent);

        //Co się dzieje po naciśnięciu przycisku przejścia dalej w zależności od strony:

        if (page == 1)
        {
            if (@_wiek.lata >= 50 && @_model.Sex == 1)
            {
                page = 2;
                grupa = true;
                sex = true;

            }
            else if (@_wiek.lata <= 50 && @_model.Sex == 1)
            {
                page = 12;
                grupa = false;
                sex = true;

            }
            else if (@_wiek.lata <= 50 && @_model.Sex == 2)
            {
                page = 12;
                grupa = false;
                sex = false;
            }
            else if (@_wiek.lata >= 50 && @_model.Sex == 2)
            {
                page = 2;
                grupa = true;
                sex = false;
            }
            else
            {

            }

            respondent.Update(sex, grupa, _wiek.lata, wyksztalcenie[@_jeden.wyksztalcenie], new List<Choroba>(), new List<StanFizyczny>(), new List<OsobaBliska>(),
                new List<OdczuciawDomu>(), new List<TechnologiaWiedza>(), new List<AwariaWiedza>(), new List<MonitoringOdczucia>(), new List<DoswiadczenieZSeniorem>()
                , new List<MonitoringWiedza>());    //Implementacja zmiennej respondent, która następnie będzie zapisan w bazie danych


            foreach (var choroba1 in chorobyList)
            {
                var choroba = new Choroba { Nazwa = choroba1, Respondent = respondent };    //Stworzenie dla każdej zaznaczonej w ankiecie choroby elementu w bazie danych i dodanie go do respondenta
                respondent.Choroby.Add(choroba);

            }
            var stanfizyczny = new StanFizyczny { Respondent = respondent, Poziom = @_jeden.zdrowie };  //Zapisanie poziomu stanu fizycznego i dodanie stanu fizycznego do respondenta w bazie 
            respondent.StanyFizyczne.Add(stanfizyczny);

        }
        else if (page == 2)
        {
            var stanfizyczny = new StanFizyczny { Respondent = respondent, Poziom = (4 - (trudneCzynnosciList.Count() / 2 - 1)) };
            var stanfizyczny1 = new StanFizyczny { Respondent = respondent, Poziom = (4 - (dolegliwosciZWiekiemList.Count() - 1)) };
            var stanfizyczny2 = new StanFizyczny { Respondent = respondent, Poziom = @_jeden.pomoc };

            respondent.StanyFizyczne.Add(stanfizyczny);
            respondent.StanyFizyczne.Add(stanfizyczny1);
            respondent.StanyFizyczne.Add(stanfizyczny2);
            page = 3;

        }
        else if (page == 3)
        {
            if (_jeden.mieszkanieZaznacz != 0)
            {
                var osobaBliska = new OsobaBliska { Respondent = respondent, Nazwa = mieszkanie[@_jeden.mieszkanieZaznacz] };
                respondent.OsobyBliskie.Add(osobaBliska);
            }

            foreach (var osoba1 in osobyBliskieList)
            {
                var osoba = new OsobaBliska { Nazwa = osoba1, Respondent = respondent };
                respondent.OsobyBliskie.Add(osoba);

            }
            var odczucia = new OdczuciawDomu { Respondent = respondent, Poziom = @_jeden.samotnosc };
            var odczucia1 = new OdczuciawDomu { Respondent = respondent, Poziom = 4 - @_jeden.bezpieczenstwo };

            respondent.OdczuciawDomus.Add(odczucia);
            respondent.OdczuciawDomus.Add(odczucia1);
            page = 4;

        }
        else if (page == 4)
        {

            var technologia = new TechnologiaWiedza { Respondent = respondent, Poziom = poprawabezpList.Count };
            var monitoringwiedza = new MonitoringWiedza { Respondent = respondent, Poziom = poprawabezpList.Count };
            var technologia1 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.technologia };
            var technologia2 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.internet };
            var technologia3 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.internet2 };
            var technologia4 = new TechnologiaWiedza { Respondent = respondent, Poziom = urzadzeniaList.Count };

            respondent.TechnologiaWiedzas.Add(technologia);
            respondent.TechnologiaWiedzas.Add(technologia1);
            respondent.TechnologiaWiedzas.Add(technologia2);
            respondent.TechnologiaWiedzas.Add(technologia3);
            respondent.TechnologiaWiedzas.Add(technologia4);
            respondent.MonitoringWiedzas.Add(monitoringwiedza);

            page = 5;

        }
        else if (page == 5)
        {

            var awaria = new AwariaWiedza { Respondent = respondent, Poziom = zabezpieczeniaList.Count };
            var odczuciaM = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.monitoring };
            var odczuciaM1 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.monitoring1 };

            respondent.AwariaWiedzas.Add(awaria);
            respondent.MonitoringOdczucias.Add(odczuciaM);
            respondent.MonitoringOdczucias.Add(odczuciaM1);

            page = 6;
            button = "Zakończ";


        }
        else if (page == 6)
        {
            page = 20;
            title = "Dziękujemy za wypełnienie naszej ankiety!";    //Zmiana tytułu strony
            var odczuciaM2 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.wizyjny };
            var odczuciaM3 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.czujnik };
            var odczuciaM4 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.robot };

            respondent.MonitoringOdczucias.Add(odczuciaM2);
            respondent.MonitoringOdczucias.Add(odczuciaM3);
            respondent.MonitoringOdczucias.Add(odczuciaM4);
            program.CreateRespondent(respondent);   //Zakończenie wypełniania ankiety i tworzenie respondenta w bazie

            //Pobranie wartości średnich poziomów dla respondenta i dla respondentów którzy już wcześniej wypełnili ankietę (zaokrąglenie wyników do drugiego miejsca po przecinku)

            avgAge = Math.Round(getData.GetAverageAge(respondent), 2);
            avgFiz = Math.Round(getData.GetAverageFiz(respondent), 2);
            avgOdczuciaMon = Math.Round(getData.GetAverageOdczuciaMon(respondent), 2);
            avgWiedzaMon = Math.Round(getData.GetAverageWiedzaMon(respondent), 2);
            avgWiedzaTech = Math.Round(getData.GetAverageWiedzaTech(respondent), 2);
            resFiz = Math.Round(getData.GetResFiz(respondent), 2);
            resOdczuciaMon = Math.Round(getData.GetResOdczuciaMon(respondent), 2);
            resWiedzaMon = Math.Round(getData.GetResWiedzaMon(respondent), 2);
            resWiedzaTech = Math.Round(getData.GetResWiedzaTech(respondent), 2);


        }
        else if (page == 12)
        {
            if (@_jeden.choraosoba == 0 || @_jeden.mieszkaniezseniorem == 0)
            {
                page = 13;

            }
            else
            {
                page = 14;
            }

            var doswiadczenie = new DoswiadczenieZSeniorem { Respondent = respondent, Poziom = 4 - 4 * @_jeden.choraosoba };
            var doswiadczenie1 = new DoswiadczenieZSeniorem { Respondent = respondent, Poziom = 2 - 2 * @_jeden.mieszkaniezseniorem };

            respondent.DoswiadczenieZSeniorems.Add(doswiadczenie);
            respondent.DoswiadczenieZSeniorems.Add(doswiadczenie1);

        }
        else if (page == 13)
        {
            page = 14;
            var doswiadczenie = new DoswiadczenieZSeniorem { Respondent = respondent, Poziom = 4 - _jeden.opieka };
            respondent.DoswiadczenieZSeniorems.Add(doswiadczenie);

        }
        else if (page == 14)
        {
            page = 15;
            button = "Zakończ";
            var odczucia1 = new OdczuciawDomu { Respondent = respondent, Poziom = 4 - @_jeden.bezpieczenstwo };
            var monitoringwiedza = new MonitoringWiedza { Respondent = respondent, Poziom = poprawabezpList.Count };

            var technologia = new TechnologiaWiedza { Respondent = respondent, Poziom = poprawabezpList.Count };
            var technologia1 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.technologia };
            var technologia2 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.internet };
            var technologia3 = new TechnologiaWiedza { Respondent = respondent, Poziom = 4 - @_jeden.internet2 };
            var technologia4 = new TechnologiaWiedza { Respondent = respondent, Poziom = urzadzeniaList.Count };

            respondent.TechnologiaWiedzas.Add(technologia);
            respondent.TechnologiaWiedzas.Add(technologia1);
            respondent.TechnologiaWiedzas.Add(technologia2);
            respondent.TechnologiaWiedzas.Add(technologia3);
            respondent.TechnologiaWiedzas.Add(technologia4);
            respondent.MonitoringWiedzas.Add(monitoringwiedza);

            respondent.OdczuciawDomus.Add(odczucia1);

        }
        else if (page == 15)
        {
            page = 20;
            title = "Dziękujemy za wypełnienie naszej ankiety!";    //Zmiana tytułu strony
            var odczuciaM2 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.wizyjny };
            var odczuciaM3 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.czujnik };
            var odczuciaM4 = new MonitoringOdczucia { Respondent = respondent, Poziom = 4 - @_jeden.robot };

            respondent.MonitoringOdczucias.Add(odczuciaM2);
            respondent.MonitoringOdczucias.Add(odczuciaM3);
            respondent.MonitoringOdczucias.Add(odczuciaM4);
            program.CreateRespondent(respondent);   //Zakończenie wypełniania ankiety i tworzenie respondenta w bazie

            //Pobranie wartości średnich poziomów dla respondenta i dla respondentów którzy już wcześniej wypełnili ankietę (zaokrąglenie wyników do drugiego miejsca po przecinku)

            avgAge = Math.Round(getData.GetAverageAge(respondent), 2);
            avgFiz = Math.Round(getData.GetAverageFiz(respondent), 2);
            avgOdczuciaMon = Math.Round(getData.GetAverageOdczuciaMon(respondent), 2);
            avgWiedzaMon = Math.Round(getData.GetAverageWiedzaMon(respondent), 2);
            avgWiedzaTech = Math.Round(getData.GetAverageWiedzaTech(respondent), 2);
            resFiz = Math.Round(getData.GetResFiz(respondent), 2);
            resOdczuciaMon = Math.Round(getData.GetResOdczuciaMon(respondent), 2);
            resWiedzaMon = Math.Round(getData.GetResWiedzaMon(respondent), 2);
            resWiedzaTech = Math.Round(getData.GetResWiedzaTech(respondent), 2);

        }
        else if (page == 20)
        {
        }

    }

    public class Model
    {
        [Range(1, 2, ErrorMessage = "Wybierz płeć")]
        public int Sex { get; set; }
    }

    public class Wiek
    {
        [Required, Range(1, 120, ErrorMessage = "Wpisz poprawny wiek")]
        public int lata { get; set; }
    }

}
